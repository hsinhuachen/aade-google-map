{"version":3,"file":"pages/search.js","sources":["webpack:///./compositions/functions.js","webpack:///./components/Card/ArticleCard.vue?b8be","webpack:///./components/Card/ArticleCard.vue?40c1","webpack:///./components/Card/ArticleCard.vue?5269","webpack:///./components/Card/ArticleCard.vue?0c5d","webpack:///./components/Card/ArticleCard.vue","webpack:///./components/Card/ArticleCard.vue?d95c","webpack:///./components/Card/ArticleCard.vue?3b54","webpack:///./assets/icons/open.svg","webpack:///./pages/search.vue?bfd2","webpack:///./pages/search.vue?3b8b","webpack:///./pages/search.vue?27ad","webpack:///./pages/search.vue?9522","webpack:///./pages/search.vue","webpack:///./pages/search.vue?edc9","webpack:///./pages/search.vue?f44e"],"sourcesContent":["import ImagesLoaded from 'imagesloaded'\n\nexport default () => {\n    const loadImage = () => {\n        return new Promise((resolve) => {\n            new ImagesLoaded('#__nuxt', { background: true }, (instance) => {\n                resolve()\n            })\n        })\n    }\n    return {\n        loadImage,\n    }\n}\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCard.vue?vue&type=style&index=0&id=22b20c29&lang=scss&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"6d409563\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCard.vue?vue&type=style&index=0&id=22b20c29&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC&family=Red+Hat+Display:wght@300&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".article-card[data-v-22b20c29]{display:flex;width:100%;color:#333}@media(min-width:768px){.article-card[data-v-22b20c29]{display:block}}.article-card__image-link[data-v-22b20c29]{margin-right:16px;width:112px;height:112px}@media(min-width:768px){.article-card__image-link[data-v-22b20c29]{position:relative;display:block;margin-right:0;margin-bottom:12px;padding-bottom:100%;width:100%}}.article-card__image-img[data-v-22b20c29]{width:100%;height:100%;opacity:1;transition:opacity .5s;-o-object-fit:cover;object-fit:cover}@media(min-width:768px){.article-card__image-img[data-v-22b20c29]{position:absolute;top:0;left:0}}.article-card__image-img[data-v-22b20c29]:hover{opacity:.5}.article-card__text[data-v-22b20c29]{flex:1 0 0}.article-card__data[data-v-22b20c29]{display:flex;opacity:.6;margin-bottom:8px}.article-card__data-item[data-v-22b20c29]:not(:last-child):after{content:\\\"|\\\";display:inline-block;margin-right:8px;margin-left:8px}.article-card__title[data-v-22b20c29]{font-size:16px;font-weight:700;line-height:1.3;letter-spacing:.5px;margin-bottom:8px;opacity:1;transition:opacity .5s}@media(min-width:1200px){.article-card__title[data-v-22b20c29]{margin-bottom:12px}}.article-card__title[data-v-22b20c29]:hover{opacity:.5}.article-card__content[data-v-22b20c29]{display:none}@media(min-width:1200px){.article-card__content[data-v-22b20c29]{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3;font-weight:400;text-overflow:ellipsis;opacity:.8}}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article-card\"},[_c('nuxt-link',{staticClass:\"article-card__image-link\",attrs:{\"to\":(\"/\" + (_vm.data.post_url)),\"title\":\"READ\"}},[_c('img',{staticClass:\"article-card__image-img\",attrs:{\"src\":_vm.data.post_image.url,\"alt\":_vm.data.post_title}})]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"article-card__text\\\" data-v-22b20c29>\",\"</div>\",[_vm._ssrNode(\"<ul class=\\\"article-card__data\\\" data-v-22b20c29>\"+(_vm._ssrList((_vm.data.post_category),function(cat){return (\"<li class=\\\"article-card__data-item\\\" data-v-22b20c29><span data-v-22b20c29>\"+_vm._ssrEscape(_vm._s(_vm.capitalizeFirstLetter(cat.slug)))+\"</span></li>\")}))+\"</ul> \"),_vm._ssrNode(\"<h3 class=\\\"article-card__title\\\" data-v-22b20c29>\",\"</h3>\",[_c('nuxt-link',{attrs:{\"to\":(\"/\" + (_vm.data.post_url)),\"title\":_vm.data.post_title}},[_vm._v(\"\\n                \"+_vm._s(_vm.data.post_title)+\"\\n            \")])],1),_vm._ssrNode(\" <div class=\\\"article-card__content\\\" data-v-22b20c29>\"+(_vm._s(_vm.data.post_content))+\"</div>\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n    props: {\n        data: {\n            type: Object,\n            default () {\n                return {}\n            },\n        },\n    },\n    methods: {\n        capitalizeFirstLetter (string) {\n            return string?.toLowerCase().charAt(0).toUpperCase() + string?.slice(1)\n        },\n    },\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ArticleCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ArticleCard.vue?vue&type=template&id=22b20c29&scoped=true&\"\nimport script from \"./ArticleCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ArticleCard.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./ArticleCard.vue?vue&type=style&index=0&id=22b20c29&lang=scss&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"22b20c29\",\n  \"6b0e5a94\"\n  \n)\n\nexport default component.exports","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTIiIHZpZXdCb3g9IjAgMCAxMyAxMiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAuNSA2LjVIMTIuNVY1LjVIMC41VjYuNVpNNyAxMlYwSDZWMTJIN1oiIGZpbGw9IiMzMzMzMzMiIGZpbGwtb3BhY2l0eT0iMC41Ii8+Cjwvc3ZnPgo=\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&lang=scss&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"2d5b39a0\", content, true, context)\n};","export * from \"-!../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=style&index=0&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n___CSS_LOADER_EXPORT___.push([module.id, \"@import url(https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&family=Noto+Sans+TC&family=Red+Hat+Display:wght@300&display=swap);\"]);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".search{padding-top:118px}.search__info{margin-bottom:40px;display:flex;align-items:flex-end}.search__info__title{margin-right:40px;font-size:32px;font-weight:700;line-height:1.3;letter-spacing:.5px}@media(min-width:1200px){.search__info__title{font-size:48px}}.search__info__keyword{padding-bottom:9px;font-size:16px;font-weight:700;line-height:1.3;letter-spacing:.5px}@media(min-width:1200px){.search__info__keyword{font-size:18px}}.search__info__keyword span{color:rgba(51,51,51,.6)}@media(min-width:1200px){.search{padding-top:73px}}.search__articles{display:flex;flex-wrap:wrap;margin:0 -12px}.search__articles-item{margin-bottom:72px;width:100%}@media(min-width:1200px){.search__articles-item{padding:0 12px;width:25%}}.search__button{text-align:center;opacity:.5;margin-bottom:80px}@media(min-width:1200px){.search__button{margin-bottom:160px}}.search__button.disable{opacity:0;pointer-events:none;transition:opacity .3s}.search .button{font-size:14px;font-weight:500;line-height:1.5;padding:12px 72px;color:rgba(51,51,51,.5);background-color:#f0f0f0;opacity:1;transition:opacity .5s;letter-spacing:.5px}.search .button:hover{opacity:.5}.search .button img{margin-bottom:4px}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"search\"},[_vm._ssrNode(\"<div class=\\\"search__info container\\\"><h1 class=\\\"search__info__title\\\">\\n            Search Results\\n        </h1> <h4 class=\\\"search__info__keyword\\\">\"+((_vm.$route.query.s)?(\"<span>\\n                Keyword:\\n            </span>\"):\"<!---->\")+_vm._ssrEscape(\"\\n            \"+_vm._s(_vm.$route.query.s || 'Please enter keyword.')+\"\\n        \")+\"</h4></div> \"),_vm._ssrNode(\"<div class=\\\"container\\\">\",\"</div>\",[(_vm.currentPosts.length>0)?_vm._ssrNode(\"<ul class=\\\"search__articles\\\">\",\"</ul>\",_vm._l((_vm.currentPosts),function(item){return _vm._ssrNode(\"<li class=\\\"search__articles-item\\\">\",\"</li>\",[_c('ArticleCard',{attrs:{\"data\":item}})],1)}),0):_vm._ssrNode((\"<p class=\\\"search__none-result\\\">\\n            No search result.\\n        </p>\")),_vm._ssrNode(\" <div\"+(_vm._ssrClass(\"search__button\",{disable: _vm.currentPosts.length === _vm.totalPosts.length}))+\"><button type=\\\"button\\\" class=\\\"button\\\">\\n                SEE MORE <img\"+(_vm._ssrAttr(\"src\",require(\"@/assets/icons/open.svg\")))+\" alt=\\\"SEE MORE\\\"></button></div>\")],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport gsap from 'gsap'\nimport axios from 'axios'\n\nimport ArticleCard from '@/components/Card/ArticleCard.vue'\n\nimport functions from '@/compositions/functions'\nconst { loadImage } = functions()\n\nexport default {\n    components: { ArticleCard },\n    async asyncData ({ $config, $axios, route }) {\n        const { data } = await $axios.$get(`${$config.APP_BACKEND_API}/wp-json/api/search?s=${route.query.s}`)\n\n        const totalPosts = data\n        const currentPosts = totalPosts.slice(0, 12)\n        const totalPage = Math.ceil(data.length / 12)\n\n        return {\n            data,\n            currentPosts,\n            totalPosts,\n            totalPage,\n        }\n    },\n    data () {\n        return {\n            currentPosts: [],\n            totalPosts: [],\n            currentPage: 1,\n            totalPage: 0,\n        }\n    },\n    head () {\n        return {\n            title: this.$route.query.s ? this.$route.query.s : 'Search',\n        }\n    },\n    watch: {\n        $route () {\n            this.reSearch()\n        },\n    },\n    mounted () {\n        this.$store.dispatch('ADD_LOADING_STACK', loadImage())\n        this.$store.dispatch('WAIT_LOADING')\n\n        this.gsapInit()\n    },\n    methods: {\n        updatePage () {\n            this.currentPage += 1\n            const prevPostsLength = this.currentPosts.length\n            const newPosts = this.totalPosts.slice((this.currentPage - 1) * 12, (this.currentPage - 1) * 12 + 12)\n            this.currentPosts.push(...newPosts)\n            this.$nextTick(function () {\n                const els = gsap.utils.toArray('.search__articles-item').slice(prevPostsLength)\n                gsap.fromTo(els, { y: 30, opacity: 0 }, { y: 0, opacity: 1, stagger: 0.2 })\n            })\n        },\n        gsapInit () {\n            gsap.fromTo('.search__info', { y: 20, opacity: 0 }, { y: 0, opacity: 1 }).delay(1)\n            gsap.fromTo('.search__none-result', { y: 20, opacity: 0 }, { y: 0, opacity: 1 }).delay(1)\n            gsap.fromTo('.search__articles-item', { y: 20, opacity: 0 }, { y: 0, opacity: 1, stagger: 0.2 }).delay(1.3)\n        },\n        async reSearch () {\n            const res = await axios.get(`${this.$config.APP_BACKEND_API}/wp-json/api/search?s=${this.$route.query.s}`)\n            const data = res.data.data\n            this.totalPosts = data\n            this.currentPosts = this.totalPosts.slice(0, 12)\n            this.totalPage = Math.ceil(data.length / 12)\n\n            this.$nextTick(function () {\n                const els = gsap.utils.toArray('.search__articles-item')\n                gsap.fromTo(els, { y: 30, opacity: 0 }, { y: 0, opacity: 1, stagger: 0.2 })\n            })\n        },\n    },\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./search.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./search.vue?vue&type=template&id=0bb8431e&\"\nimport script from \"./search.vue?vue&type=script&lang=js&\"\nexport * from \"./search.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./search.vue?vue&type=style&index=0&lang=scss&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"47e90522\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;;;;;;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AACA;AACA;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AADA;AAQA;AACA;AACA;AACA;AACA;AAJA;AATA;;ACtBA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACvBA;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACRA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AA5BA;AAxCA;;AC3CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}